---
layout: blogModel
title: vue.jså…¥é—¨
---
vue.jsçš„åŸºç¡€æ€»ç»“ã€<!-- more -->

### å¼•ç”¨
vue.jsè„šæœ¬åœ°å€å¦‚ä¸‹ï¼```
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/vue"></script>
```


---


### åŸºç¡€

- æ•°æ®ä¸æ–¹æ³ 
å½“ä¸€ä¸Vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒåVue çš„å“åº”å¼ç³»ç»Ÿä¸­åŠ å…¥äº†å…data å¯¹è±¡ä¸­èƒ½æ‰¾åˆ°çš„æ‰€æœ‰çš„å±æ€§ã€‚å½“è¿™äº›å±æ€§çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å°†ä¼šäº§ç”Ÿâ€œå“åº”â€ï¼Œå³åŒ¹é…æ›´æ–°ä¸ºæ–°çš„å€¼ã€ 
å½“è¿™äº›æ•°æ®æ”¹å˜æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œé‡æ¸²æŸ“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åªæœ‰å½“å®ä¾‹è¢«åˆ›å»ºæ—data ä¸­å­˜åœ¨çš„å±æ€§æ‰æ˜¯å“åº”å¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ åæ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œé‚£ä¹ˆå¯¹è¿™ä¸ªå±æ€§çš„æ”¹åŠ¨å°†ä¸ä¼šè§¦å‘ä»»ä½•è§†å›¾çš„æ›´æ–°ã€
- ç”³æ˜å¼æ¸²æŸ
    > {{ ... }}

    ```
    <div id="app">{{ message }}</div>
                    â†â†â†    <div id="app" v-text="message"></div>
    
    var app = new Vue({
      el: '#app',
      data: {
        message: 'Hello Vue!'    //åœ¨dataå†…å®šä¹‰å˜é‡      }
    });
    ```


- æŒ‡ä»¤ 
    > v-bind: [--ç¼©å†™--]--> :

    ```
    v-bind:title="message"
    ```


- æ¡ä»¶(ç”¨äºæ§åˆ¶åˆ‡æ¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦æ˜¾ç¤

    > v-if="..."  
        v-else-if  
        v-else  
        /* å¿…é¡»ç´§è·Ÿåœ¨å¸¦ v-if å…ƒç´ ä¹‹å */  
    
    åˆ‡æ¢å¤šä¸ªå…ƒç´ ï¼å°template> å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶åœ¨ä¸Šé¢ä½¿ç”v-ifã€‚æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå°†ä¸åŒ…å« <template> å…ƒç´ ã€    ```
    <template v-if="ok">
        <p>Paragraph 1</p>
        <p>Paragraph 2</p>
    </template>
    ```
    > v-show=""  
    
    v-if æ˜¯â€œçœŸæ­£â€çš„æ¡ä»¶æ¸²æŸ“ï¼Œå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºã€‚v-ifä¹Ÿæ˜¯æƒ°æ€§çš„ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€ 
    ç›¸æ¯”ä¹‹ä¸‹ï¼Œv-show å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ã€->åªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çšCSS å±æ€displayã€
- å¾ªç¯ 
    > v-for = "(item, index) in items"  
    /* ä¸æ”¯æŒ<template> å…ƒç´ ï¼Œä¹Ÿä¸æ”¯æŒv-else   
    å½v-if ä¸v-for ä¸€èµ·ä½¿ç”¨æ—¶ï¼=v-for å…·æœ‰æ¯v-if æ›´é«˜çš„ä¼˜å…ˆçº§==ã€ 
    æ”¯æŒä¸€ä¸ªå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºå½“å‰é¡¹çš„ç´¢å¼•ã€/

    1. æ•°ç»„å¾ªç¯ï¼    ```
    <ul id="example-1">
      <li v-for="item in items">
        {{ item.message }}
      </li>
    </ul>
    
    var example1 = new Vue({
      el: '#example-1',
      data: {
        items: [
          { message: 'Foo' },
          { message: 'Bar' }
        ]
      }
    })
    ``` 
    2. å¯¹è±¡å¾ªç¯ï¼    ```
    <div v-for="(value, key, index) in object">
      {{ key }}: {{ value }}
    </div>
    ```


- åŒå‘ç»‘å®š (å®ç°è¡¨å•è¾“å…¥å’Œåº”ç”¨çŠ¶æ€ä¹‹é—´çš„åŒå‘ç»‘å®š)
    > v-model  

    ```
    <input v-model="message">
    data: {
        message: 'Hello Vue!'
    }
    ```  

- æ•°ç»„æ›´æ–°æ£€æµ
    ++å˜å¼‚æ–¹æ³•++  
    push()
    pop()
    shift()
    unshift()
    splice()
    sort()
    reverse()  
    ä¼šæ”¹å˜è¢«è¿™äº›æ–¹æ³•è°ƒç”¨çš„åŸå§‹æ•°ç»„ï¼Œä¹Ÿä¼šè§¦å‘è§†å›¾æ›´æ–°ã€    
    ++éå˜å¼‚æ–¹æ³+  
    filter(), concat(), slice()  
    ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ï¼Œä½†æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚å½“ä½¿ç”¨éå˜å¼‚æ–¹æ³•æ—¶ï¼Œå¯ä»¥ç”¨æ–°æ•°ç»„æ›¿æ¢æ—§æ•°ç»„ã€    
    - ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ï¼        1. ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue
        2. ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength
    
    - Vue ä¸èƒ½æ£€æµ‹å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ï¼š
        ```
        var vm = new Vue({
          data: {
            a: 1, 
            userProfile: {
              name: 'Anika'
            }
          }
        })
        // `vm.a` ç°åœ¨æ˜¯å“åº”å¼çš        
        vm.b = 2
        // `vm.b`ä¸æ˜¯å“åº”å¼çš„
        Vue.set(vm.userProfile, 'age', 27) 
         â†â†â†        vm.$set(this.userProfile, 'age', 27)
        ```
        Vue ä¸èƒ½åŠ¨æ€æ·»åŠ æ ¹çº§åˆ«çš„å“åº”å¼å±æ€§ã€‚ä½†æ˜¯å¯ä»¥ä½¿ç”Vue.set(object, key, value) æ–¹æ³•å‘åµŒå¥—å¯¹è±¡æ·»åŠ å“åº”å¼å±æ€

- è®¡ç®—å±æ€ 

    æ¨¡æ¿å†…çš„è¡¨è¾¾å¼éå¸¸ä¾¿åˆ©ï¼Œä½†æ˜¯è®¾è®¡å®ƒä»¬çš„åˆè¡·æ˜¯ç”¨äº++ç®€å•è¿ç®+çš„ã€‚åœ¨æ¨¡æ¿ä¸­æ”¾å…¥å¤ªå¤šçš„é€»è¾‘ä¼šè®©æ¨¡æ¿è¿‡é‡ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ä¾‹å¦‚ï¼š
    ```
    <div id="example">
      {{ message.split('').reverse().join('') }}
    </div>
    ```
    å¦‚æœè¦é‡å¤å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªè¿ç®—ï¼Œåº”é€‚å½“é€‚åº”è®¡ç®—å±æ€§ï¼š
    ```
    <div id="example">
      <p>Computed reversed message: "{{ reversedMessage }}"</p>
    </div>
    
    var vm = new Vue({
      el: '#example',
      data: {
        message: 'Hello'
      },
      computed: {
        // è®¡ç®—å±æ€§çš„ getter
        reversedMessage: function () {
          // `this` æŒ‡å‘ vm å®ä¾‹
          return this.message.split('').reverse().join('')
        }
      }
    })
    ```
    æˆ‘ä»¬å¯ä»¥å°†åŒä¸€å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ã€‚ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ç„¶è€Œï¼Œä¸åŒçš„æ˜¯è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚è®¡ç®—å±æ€§åªæœ‰åœ¨å®ƒçš„ç›¸å…³ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚è¿™å°±æ„å‘³ç€åªè¦ message è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—® reversedMessage è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¯å½“è§¦å‘é‡æ–°æ¸²æŸ“æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å°†æ€»ä¼šå†æ¬¡æ‰§è¡Œå‡½æ•°ã€    
    - setter  
    
        è®¡ç®—å±æ€§é»˜è®¤åªæœgetter ï¼Œä¸è¿‡åœ¨éœ€è¦æ—¶ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸setter ï¼ 
        (è¿™æ ·å¯ä»¥çœå»watchä¾¦å¬)
        ```
        computed: {
          reversedMessage: {
            // getter
            get: function () {
              return this.message.split('').reverse().join('')
            },
            // setter
            set: function (newValue) {
              this.message = newValue.split('').reverse().join('');
              //è°ƒç”¨vm.reversedMessage("haha"),messageä¹Ÿä¼šæ”¹å˜æˆahah"
            }
          }
        }
        ```


- ä¾¦å¬å±æ€watch

    å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œç”¨watchä¾¦å¬å˜åŒ–æ˜¯æœ€æœ‰ç”¨çš„ã€    ```
    watch: {
        // å¦‚æœ `message` å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡        message: function () { ... }
    },
    ```

- æ˜¾ç¤ºè¿‡æ»¤/æ’åºç»“æœ

    > .filter()

    ```
    <li v-for="n in evenNumbers">{{ n }}</li>
    
    data: {
      numbers: [ 1, 2, 3, 4, 5 ]
    },
    computed: {
      evenNumbers: function () {
        return this.numbers.filter(function (number) {
          return number % 2 === 0
        })
      }
    }
    ```


- Class & Style ç»‘å®š

    - æ¨¡æ¿è¯­æ³•

        ```
        <div class="static"
            v-bind:class="{ active: isActive, 'text-danger': hasError }">  
            //å½“classnameæœ‰å…¶ä»–ç¬¦å·æ—¶éœ€è¦ä½¿ç”¨å¼•å·åŒ…è£        </div>
        ```  
        
        or ä½¿ç”¨è®¡ç®—å±æ€ 
    
        ```
        <div v-bind:class="classObject"></div>
        
        data: {
          isActive: true,
          error: null
        },
        computed: {
          classObject: function () {
            return {
              active: this.isActive && !this.error,
              'text-danger': this.error && this.error.type === 'fatal'
            }
          }
        }
        ```
        
        or ä½¿ç”¨æ•°ç»„:
        
        ```
        <div v-bind:class="[isActive ? activeClass : '', errorClass]"></div>
                                â†â†â† //ä¸‰å…ƒ è½å¯¹è±¡å½¢å¼
        <div v-bind:class="[{ active: isActive }, errorClass]"></div>
        
        data: {
          activeClass: 'active',
          errorClass: 'text-danger'
        }
        ```
    
---

### ç»„ä»¶åŒ–åº”ç”¨æ„å» 

åœVue é‡Œï¼Œä¸€ä¸ªç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ‹¥æœ‰é¢„å®šä¹‰é€‰é¡¹çš„ä¸€ä¸Vue å®ä¾‹ã€ 
    
```
// å®šä¹‰åä¸º myitem çš„æ–°ç»„ä»¶
Vue.component('myitem', {
    // myitem ç»„ä»¶ç°åœ¨æ¥å—ä¸€ä¸    // "prop"ï¼Œç±»ä¼¼äºä¸€ä¸ªè‡ªå®šä¹‰ç‰¹æ€§ã€    props: ['attributea','attributeb'], 
    template: '<li>{{ attributea.text }} _ {{ attributeb }}</li>'
});
var app = new Vue({
    el: '#app',
    data: {
        groceryList: [
        	{ id: 0, text: 'è”¬èœ' },
        	{ id: 1, text: 'å¥¶é…ª' },
        	{ id: 2, text: 'éšä¾¿å…¶ä»–ä»€ä¹ˆäººåƒçš„ä¸œè¥¿' }
        ]
    }
});
```  
æ¨¡æ¿ä½¿ç”¨ï¼```
<myitem v-for="item in groceryList" :attributea="item" :attributeb="item.id" :key="item.id"></myitem>
     â†â†â†<li is="myitem" v-for="item in groceryList" :attributea="item" :attributeb="item.id" :key="item.id"></myitem>
```

æ³¨æ„è¿™é‡Œçšis="myitem" å±æ€§ã€è¿™ç§åšæ³•åœ¨ä½¿ç”DOM æ¨¡æ¿æ—¶æ˜¯ååˆ†å¿…è¦çš„ï¼Œå› ä¸ºåœ<ul> å…ƒç´ å†…åªæœ<li> å…ƒç´ ä¼šè¢«çœ‹ä½œæœ‰æ•ˆå†…å®¹ã€è¿™æ ·åšå®ç°çš„æ•ˆæœä¸<myitem> ç›¸åŒï¼Œä½†æ˜¯å¯ä»¥é¿å¼€ä¸€äº›æ½œåœ¨çš„æµè§ˆå™¨è§£æé”™è¯¯ã€---

### äº‹ä»¶å¤„ç†

- ç›‘å¬äº‹ä»¶
    > v-on:   [--ç¼©å†™--]--> @

    ```
    <div id="example-3">
      <button v-on:click="say('hi', $event)">Say hi</button>
      //å†…è”è¯­å¥å¤„ç†å™¨ä¸­è®¿é—®åŸå§‹çšDOM äº‹ä»¶ã€‚å¯ä»¥ç”¨ç‰¹æ®Šå˜é‡ $event æŠŠå®ƒä¼ å…¥æ–¹æ³•
    </div>
    
    new Vue({
      el: '#example-3',
      methods: {
        say: function (message) {
          if (event) event.preventDefault()
          alert(message)
        }
      }
    })
    ```

- äº‹ä»¶ä¿®é¥°ç¬   

    |ä¿®é¥°ç¬ |å¯¹åº”åŠŸèƒ½               |demo           |-|
    |:------:|:---------------------:|:--------------:|:---------:|
    |.stop   |event.stopPropagation()|`v-on:click.stop="doThis"`|é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­|
    |.prevent|event.preventDefault() |`v-on: submit.prevent="onSubmit"`|æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢|
    |.capture|äº‹ä»¶æ•è·æ¨¡å¼|`v-on:click.capture="doThis"`|å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç†|
    |.self   |å½“å‰å…ƒç´ è‡ªèº«è§¦å‘å‡½æ•°|`v-on:click.self="doThat"`|åªå½“åœ`event.target` æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•°,ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„|    
    |.once   |äº‹ä»¶åªè§¦å‘ä¸€æ¬¡| -|-|
    |.passive|äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³è§¦å‘|`v-on: scroll.passive="onScroll"`|æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸(å³æ»šåŠ¨è¡Œä¸ å°†ä¼šç«‹å³è§¦å‘|
    |.keyCode|ç›‘å¬é”®ç›˜äº‹ä»¶|`v-on:keyup.enter="submit"`|å›è½¦æ—¶è°ƒç”`vm.submit()`|
    
    ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼Œå¦‚:   
    ç”`@click.prevent.self` ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€`@click.self.prevent` åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€ 
    
    ä¸è¦æŠ.passive å’.prevent ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º .prevent å°†ä¼šè¢«å¿½ç•¥ï¼ŒåŒæ—¶æµè§ˆå™¨å¯èƒ½ä¼šå‘ä½ å±•ç¤ºä¸€ä¸ªè­¦å‘Šã€‚è¯·è®°ä½ï¼passive ä¼šå‘Šè¯‰æµè§ˆå™¨ä½ ä¸æƒ³é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€    
    ```
    <!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è-->
    <a v-on:click.stop.prevent="doThat"></a>
    
    <!-- åªæœ‰ä¿®é¥°ç¬-->
    <form v-on:submit.prevent></form>
    ```
    asd